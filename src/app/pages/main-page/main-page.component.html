<app-loader></app-loader>

<div class="main-page">
	<div class="main-page__container">
		<div class="main-page__inner">
			<div class="main-page__soc-xl">
				<app-soc></app-soc>
			</div>
			<app-next-section-link (click)="fullpage_api.moveSectionDown()"></app-next-section-link>
		</div>
	</div>
	
	
	<div fullpage id="fullpage" [options]="config" (ref)="getRef($event)">
		<div class="section fp-auto-height-responsive">
			
			<div class="main-section__curtain" style="transform: translateX(-100%) translateZ(0)" #mainSectionCurtain></div>
			
			<div class="main-section__bg">
				<app-fake3d
					*ngIf="desctopMediaQuery && mainSectionActive"
					[image]="'assets/images/main.jpg'"
					[depf]="'assets/images/main-map.jpg'"
					[horizontalThreshold]="35"
					[verticalThreshold]="15">
				</app-fake3d>
			</div>
			
			<div class="main-section">
				<div class="main-section__title text-center" style="transform: scale(2) translateZ(0); opacity: 0" #mainTitle>
					Флористика<br>
					с душой
				</div>
				<button class="btn main-section__btn" #mainBtn
				        style="transform: translate3d(0, 20px, 0); opacity: 0;"
				        (click)="fullpage_api.moveSectionDown()">
					Cмотреть работы
				</button>
				
				<div class="main-page__soc-xs">
					<app-soc></app-soc>
				</div>
				
				<div class="main-section__mouse" #mouse style="transform: translate3d(-50%, 20px, 0); opacity: 0;">
					<app-mouse></app-mouse>
				</div>
			</div>
		</div>
		
		<div class="section is-catalog fp-auto-height-responsive" id="js-catalog">
			
			<app-catalog *ngIf="posts$ | async as posts; else loading" [posts]="posts"></app-catalog>
			
			<ng-template #loading>
				<app-loader></app-loader>
			</ng-template>
		
		</div>
		
		<div class="section is-actions fp-auto-height-responsive">
			<div>
				<app-actions></app-actions>
				<app-footer></app-footer>
			</div>
		</div>
	</div>
</div>
